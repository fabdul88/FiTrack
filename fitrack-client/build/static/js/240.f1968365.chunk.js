"use strict";(self.webpackChunkabdul_farhan_capstone=self.webpackChunkabdul_farhan_capstone||[]).push([[240],{9240:function(e,n,a){a.r(n),a.d(n,{Login:function(){return h}});var s=a(4165),i=a(5861),l=a(4942),r=a(1413),o=a(9439),t=a(2791),c=a(7689),d=a(1087),u=a(9337),m=a(991),_=a(1126),g=a(3402),p=a(184),h=function(){var e,n=(0,c.s0)(),a=(0,u.I0)(),h=(0,m.YA)(),v=(0,o.Z)(h,2),x=v[0],f=v[1],j=f.isLoading,b=f.error,N=(0,u.v9)((function(e){return e.auth})).userInfo;(0,t.useEffect)((function(){N&&n("/dashboard")}),[n,N]);var w=(0,t.useState)({username:"",email:"",password:""}),Z=(0,o.Z)(w,2),k=Z[0],y=Z[1],C=(0,t.useState)(!1),L=(0,o.Z)(C,2),S=L[0],D=L[1],F=function(e){y((0,r.Z)((0,r.Z)({},k),{},(0,l.Z)({},e.target.name,e.target.value)))},P=function(){var e=(0,i.Z)((0,s.Z)().mark((function e(i){var l,o,t,c;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i.preventDefault(),l={username:k.username,email:k.email,password:k.password},e.prev=2,e.next=5,x({username:l.username,email:l.email,password:l.password}).unwrap();case 5:o=e.sent,g.ZP.success("Successfully logged in!"),a((0,_.Dj)((0,r.Z)({},o))),n("/dashboard"),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(2),console.log((null===e.t0||void 0===e.t0||null===(t=e.t0.data)||void 0===t?void 0:t.message)||e.t0.error),g.ZP.error((null===e.t0||void 0===e.t0||null===(c=e.t0.data)||void 0===c?void 0:c.message)||e.t0.error);case 15:case"end":return e.stop()}}),e,null,[[2,11]])})));return function(n){return e.apply(this,arguments)}}();return(0,p.jsxs)("div",{className:"login",children:[(0,p.jsx)(g.x7,{position:"bottom-right"}),(0,p.jsx)("div",{children:(0,p.jsxs)("section",{className:"login__card",children:[(0,p.jsx)("div",{className:"login__title-container",children:(0,p.jsx)("h2",{className:"login__title",children:"Login"})}),(0,p.jsxs)("div",{className:"login__form-container",children:[(0,p.jsx)("div",{className:"login__image-container",children:(0,p.jsx)("div",{className:"login__image"})}),(0,p.jsxs)("form",{onSubmit:function(e){return P(e)},children:[S?(0,p.jsxs)("div",{className:"login__username-container",children:[(0,p.jsx)("label",{className:"login__username-label",htmlFor:"username",children:"Username"}),(0,p.jsx)("input",{className:"login__username",type:"text",name:"username",value:k.username,onChange:F,id:"username"})]}):(0,p.jsxs)("div",{className:"login__email-container",children:[(0,p.jsx)("label",{className:"login__email-label",htmlFor:"email",children:"Email"}),(0,p.jsx)("input",{className:"login__email",type:"email",name:"email",value:k.email,onChange:F,id:"email"})]}),(0,p.jsxs)("div",{className:"login__switch-input-container",children:[(0,p.jsxs)("p",{className:"login__switch-input",children:[S?"enter your email instead?":"enter your username instead?"," "]}),(0,p.jsx)("button",{className:"login__switch-input-button",onClick:function(e){e.preventDefault(),D((function(e){return!e}))},children:"Click here"})," "]}),(0,p.jsxs)("div",{className:"login__password-container",children:[(0,p.jsx)("label",{className:"login__password-label",htmlFor:"password",children:"Password"}),(0,p.jsx)("input",{className:"login__password",type:"password",name:"password",value:k.password,onChange:F,id:"password"})]}),(0,p.jsxs)("div",{className:"login__button-container",children:[b&&(0,p.jsx)("p",{style:{color:"#ffffff",border:"1px solid #8f300d",padding:"5px",borderRadius:"4px",background:"rgba(143, 48, 13,0.8)"},children:null===b||void 0===b||null===(e=b.data)||void 0===e?void 0:e.message}),(0,p.jsx)("button",{className:"login__button",type:"submit",children:j?"Loading...":"Login"})]}),(0,p.jsx)("div",{className:"login__account-container",children:(0,p.jsxs)("p",{className:"login__account",children:["Don't have an account?"," ",(0,p.jsx)(d.rU,{className:"login__account-link",to:"/signup",children:"Sign Up"})]})})]})]})]})})]})}}}]);
//# sourceMappingURL=240.f1968365.chunk.js.map