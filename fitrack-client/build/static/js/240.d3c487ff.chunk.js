"use strict";(self.webpackChunkabdul_farhan_capstone=self.webpackChunkabdul_farhan_capstone||[]).push([[240],{9240:function(e,n,s){s.r(n),s.d(n,{Login:function(){return _}});var a=s(4165),i=s(5861),r=s(4942),l=s(1413),t=s(9439),o=s(2791),c=s(7689),d=s(1087),u=s(9337),m=s(991),h=s(1126),p=s(3402),g=s(184),_=function(){var e=(0,c.s0)(),n=(0,u.I0)(),s=(0,m.YA)(),_=(0,t.Z)(s,2),x=_[0],v=_[1],f=v.isLoading,j=v.error,b=(0,u.v9)((function(e){return e.auth})).userInfo;(0,o.useEffect)((function(){b&&e("/dashboard")}),[e,b]);var w=(0,o.useState)({username:"",email:"",password:""}),N=(0,t.Z)(w,2),Z=N[0],k=N[1],y=(0,o.useState)(!1),C=(0,t.Z)(y,2),L=C[0],D=C[1],S=function(e){k((0,l.Z)((0,l.Z)({},Z),{},(0,r.Z)({},e.target.name,e.target.value)))},F=function(){var s=(0,i.Z)((0,a.Z)().mark((function s(i){var r,t,o,c;return(0,a.Z)().wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return i.preventDefault(),r={username:Z.username,email:Z.email,password:Z.password},s.prev=2,s.next=5,x({username:r.username,email:r.email,password:r.password}).unwrap();case 5:t=s.sent,p.ZP.success("Successfully logged in!"),n((0,h.Dj)((0,l.Z)({},t))),e("/dashboard"),s.next=15;break;case 11:s.prev=11,s.t0=s.catch(2),console.log((null===s.t0||void 0===s.t0||null===(o=s.t0.data)||void 0===o?void 0:o.message)||s.t0.error),p.ZP.error((null===s.t0||void 0===s.t0||null===(c=s.t0.data)||void 0===c?void 0:c.message)||s.t0.error);case 15:case"end":return s.stop()}}),s,null,[[2,11]])})));return function(e){return s.apply(this,arguments)}}();return(0,g.jsxs)("div",{className:"login",children:[(0,g.jsx)(p.x7,{position:"bottom-right"}),(0,g.jsx)("div",{children:(0,g.jsxs)("section",{className:"login__card",children:[(0,g.jsx)("div",{className:"login__title-container",children:(0,g.jsx)("h2",{className:"login__title",children:"Login"})}),(0,g.jsxs)("div",{className:"login__form-container",children:[(0,g.jsx)("div",{className:"login__image-container",children:(0,g.jsx)("div",{className:"login__image"})}),(0,g.jsxs)("form",{onSubmit:function(e){return F(e)},children:[L?(0,g.jsxs)("div",{className:"login__username-container",children:[(0,g.jsx)("label",{className:"login__username-label",htmlFor:"username",children:"Username"}),(0,g.jsx)("input",{className:"login__username",type:"text",name:"username",value:Z.username,onChange:S,id:"username"})]}):(0,g.jsxs)("div",{className:"login__email-container",children:[(0,g.jsx)("label",{className:"login__email-label",htmlFor:"email",children:"Email"}),(0,g.jsx)("input",{className:"login__email",type:"email",name:"email",value:Z.email,onChange:S,id:"email"})]}),(0,g.jsxs)("div",{className:"login__switch-input-container",children:[(0,g.jsxs)("p",{className:"login__switch-input",children:[L?"enter your email instead?":"enter your username instead?"," "]}),(0,g.jsx)("button",{className:"login__switch-input-button",onClick:function(e){e.preventDefault(),D((function(e){return!e}))},children:"Click here"})," "]}),(0,g.jsxs)("div",{className:"login__password-container",children:[(0,g.jsx)("label",{className:"login__password-label",htmlFor:"password",children:"Password"}),(0,g.jsx)("input",{className:"login__password",type:"password",name:"password",value:Z.password,onChange:S,id:"password"})]}),(0,g.jsxs)("div",{className:"login__button-container",children:[j&&(0,g.jsx)("p",{style:{color:"#ffffff",border:"1px solid #8f300d",padding:"5px",borderRadius:"4px",background:"rgba(143, 48, 13,0.8)"},children:j.data.message}),(0,g.jsx)("button",{className:"login__button",type:"submit",children:f?"Loading...":"Login"})]}),(0,g.jsx)("div",{children:(0,g.jsxs)("p",{children:["Don't have an account? ",(0,g.jsx)(d.rU,{to:"/signup",children:"Register"})]})})]})]})]})})]})}}}]);
//# sourceMappingURL=240.d3c487ff.chunk.js.map