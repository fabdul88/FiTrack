{"version":3,"file":"static/js/240.d3c487ff.chunk.js","mappings":"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","sources":["pages/Login/Login.jsx"],"sourcesContent":["import { useEffect, useState } from 'react';\nimport { useNavigate, Link } from 'react-router-dom';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { useLoginMutation } from '../../slices/usersApiSlice';\nimport { setCredentials } from '../../slices/authSlice';\nimport toast, { Toaster } from 'react-hot-toast';\nimport './login.scss';\n\nconst Login = () => {\n  const navigate = useNavigate();\n  const dispatch = useDispatch();\n\n  const [login, { isLoading, error }] = useLoginMutation();\n\n  const { userInfo } = useSelector((state) => state.auth);\n\n  useEffect(() => {\n    if (userInfo) {\n      navigate('/dashboard');\n    }\n  }, [navigate, userInfo]);\n\n  const [loggedInUser, setLoggedInUser] = useState({\n    username: '',\n    email: '',\n    password: '',\n  });\n\n  const [switchInput, setSwitchInput] = useState(false);\n\n  const handleChange = (e) => {\n    setLoggedInUser({\n      ...loggedInUser,\n      [e.target.name]: e.target.value,\n    });\n  };\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    const data = {\n      username: loggedInUser.username,\n      email: loggedInUser.email,\n      password: loggedInUser.password,\n    };\n\n    try {\n      const res = await login({\n        username: data.username,\n        email: data.email,\n        password: data.password,\n      }).unwrap();\n      toast.success('Successfully logged in!');\n      dispatch(setCredentials({ ...res }));\n      navigate('/dashboard');\n    } catch (err) {\n      console.log(err?.data?.message || err.error);\n      toast.error(err?.data?.message || err.error);\n    }\n  };\n\n  return (\n    <div className=\"login\">\n      <Toaster position=\"bottom-right\" />\n      <div>\n        <section className=\"login__card\">\n          <div className=\"login__title-container\">\n            <h2 className=\"login__title\">Login</h2>\n          </div>\n          <div className=\"login__form-container\">\n            <div className=\"login__image-container\">\n              <div className=\"login__image\"></div>\n            </div>\n            <form onSubmit={(e) => handleSubmit(e)}>\n              {switchInput ? (\n                <div className=\"login__username-container\">\n                  <label className=\"login__username-label\" htmlFor=\"username\">\n                    Username\n                  </label>\n                  <input\n                    className=\"login__username\"\n                    type=\"text\"\n                    name=\"username\"\n                    value={loggedInUser.username}\n                    onChange={handleChange}\n                    id=\"username\"\n                  />\n                </div>\n              ) : (\n                <div className=\"login__email-container\">\n                  <label className=\"login__email-label\" htmlFor=\"email\">\n                    Email\n                  </label>\n                  <input\n                    className=\"login__email\"\n                    type=\"email\"\n                    name=\"email\"\n                    value={loggedInUser.email}\n                    onChange={handleChange}\n                    id=\"email\"\n                  />\n                </div>\n              )}\n              <div className=\"login__switch-input-container\">\n                <p className=\"login__switch-input\">\n                  {switchInput\n                    ? 'enter your email instead?'\n                    : 'enter your username instead?'}{' '}\n                </p>\n                <button\n                  className=\"login__switch-input-button\"\n                  onClick={(e) => {\n                    e.preventDefault();\n                    setSwitchInput((prevState) => !prevState);\n                  }}\n                >\n                  Click here\n                </button>{' '}\n              </div>\n              <div className=\"login__password-container\">\n                <label className=\"login__password-label\" htmlFor=\"password\">\n                  Password\n                </label>\n                <input\n                  className=\"login__password\"\n                  type=\"password\"\n                  name=\"password\"\n                  value={loggedInUser.password}\n                  onChange={handleChange}\n                  id=\"password\"\n                />\n              </div>\n              <div className=\"login__button-container\">\n                {error && (\n                  <p\n                    style={{\n                      color: '#ffffff',\n                      border: '1px solid #8f300d',\n                      padding: '5px',\n                      borderRadius: '4px',\n                      background: 'rgba(143, 48, 13,0.8)',\n                    }}\n                  >\n                    {error.data.message}\n                  </p>\n                )}\n                <button className=\"login__button\" type=\"submit\">\n                  {isLoading ? 'Loading...' : 'Login'}\n                </button>\n              </div>\n              <div>\n                <p>\n                  Don't have an account? <Link to=\"/signup\">Register</Link>\n                </p>\n              </div>\n            </form>\n          </div>\n        </section>\n      </div>\n    </div>\n  );\n};\n\nexport { Login };\n"],"names":["Login","navigate","useNavigate","dispatch","useDispatch","useLoginMutation","login","isLoading","error","userInfo","useSelector","state","auth","useEffect","useState","username","email","password","loggedInUser","setLoggedInUser","switchInput","setSwitchInput","handleChange","e","target","name","value","handleSubmit","preventDefault","data","unwrap","res","toast","success","setCredentials","console","log","message","className","position","onSubmit","htmlFor","type","onChange","id","onClick","prevState","style","color","border","padding","borderRadius","background","to"],"sourceRoot":""}